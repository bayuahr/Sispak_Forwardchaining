<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" 
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports 
              http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" 
              name="report_master_aset" pageWidth="595" pageHeight="842" 
              columnWidth="555" leftMargin="20" rightMargin="20" 
              topMargin="40" bottomMargin="60">
    
    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="One Empty Record"/>
    
    <!-- Report Parameters -->
    <parameter name="LOGO_DIR" class="java.lang.String"/>
    <parameter name="KEPALA_NAMA" class="java.lang.String"/>
    <parameter name="KEPALA_NIP" class="java.lang.String"/>
    
    <!-- Query data -->
    <queryString>
        <![CDATA[SELECT 
                a.kode_aset, 
                a.nama_aset, 
                j.nama_jenis as jenis_aset,
                k.nama_kondisi as kondisi,
                a.lokasi,
                a.tahun_perolehan,
                a.nilai_perolehan
            FROM 
                master_aset a
                LEFT JOIN master_jenis_aset j ON a.kode_jenis = j.kode_jenis
                LEFT JOIN master_kondisi k ON a.kode_kondisi = k.kode_kondisi
            ORDER BY a.kode_aset]]>
    </queryString>
    
    <field name="kode_aset" class="java.lang.String"/>
    <field name="nama_aset" class="java.lang.String"/>
    <field name="jenis_aset" class="java.lang.String"/>
    <field name="kondisi" class="java.lang.String"/>
    <field name="lokasi" class="java.lang.String"/>
    <field name="tahun_perolehan" class="java.lang.Integer"/>
    <field name="nilai_perolehan" class="java.lang.Double"/>
    
    <!-- Title Band -->
    <title>
        <band height="120">
            <!-- Logo and Institution Header -->
            <image>
                <reportElement x="0" y="0" width="80" height="80"/>
                <imageExpression><![CDATA[$P{LOGO_DIR}]]></imageExpression>
            </image>
            
            <staticText>
                <reportElement x="100" y="0" width="350" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="16" isBold="true"/>
                </textElement>
                <text><![CDATA[KEMENTERIAN DALAM NEGERI REPUBLIK INDONESIA]]></text>
            </staticText>
            
            <staticText>
                <reportElement x="100" y="25" width="350" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="14" isBold="true"/>
                </textElement>
                <text><![CDATA[DIREKTORAT JENDERAL BINA ADMINISTRASI KEWILAYAHAN]]></text>
            </staticText>
            
            <!-- Report Title -->
            <staticText>
                <reportElement x="0" y="60" width="555" height="30"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font size="18" isBold="true"/>
                </textElement>
                <text><![CDATA[LAPORAN MASTER ASET]]></text>
            </staticText>
            
            <line>
                <reportElement x="0" y="100" width="555" height="1"/>
            </line>
        </band>
    </title>
    
    <!-- Column Header Band -->
    <columnHeader>
        <band height="30">
            <staticText>
                <reportElement x="0" y="0" width="70" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Kode Aset]]></text>
            </staticText>
            <staticText>
                <reportElement x="70" y="0" width="150" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Nama Aset]]></text>
            </staticText>
            <staticText>
                <reportElement x="220" y="0" width="100" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Jenis]]></text>
            </staticText>
            <staticText>
                <reportElement x="320" y="0" width="80" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Kondisi]]></text>
            </staticText>
            <staticText>
                <reportElement x="400" y="0" width="80" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Lokasi]]></text>
            </staticText>
            <staticText>
                <reportElement x="480" y="0" width="75" height="30" backcolor="#E6E6E6"/>
                <textElement textAlignment="Center" verticalAlignment="Middle">
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Nilai (Rp)]]></text>
            </staticText>
        </band>
    </columnHeader>
    
    <!-- Detail Band -->
    <detail>
        <band height="25">
            <textField>
                <reportElement x="0" y="0" width="70" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{kode_aset}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="70" y="0" width="150" height="25"/>
                <textElement verticalAlignment="Middle" leftPadding="5"/>
                <textFieldExpression><![CDATA[$F{nama_aset}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="220" y="0" width="100" height="25"/>
                <textElement verticalAlignment="Middle" leftPadding="5"/>
                <textFieldExpression><![CDATA[$F{jenis_aset}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="320" y="0" width="80" height="25"/>
                <textElement textAlignment="Center" verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA[$F{kondisi}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="400" y="0" width="80" height="25"/>
                <textElement verticalAlignment="Middle" leftPadding="5"/>
                <textFieldExpression><![CDATA[$F{lokasi}]]></textFieldExpression>
            </textField>
            <textField>
                <reportElement x="480" y="0" width="75" height="25"/>
                <textElement textAlignment="Right" verticalAlignment="Middle" rightPadding="5"/>
                <textFieldExpression><![CDATA[new java.text.DecimalFormat("###,###").format($F{nilai_perolehan})]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    
    <!-- Footer Band -->
    <pageFooter>
        <band height="150">
            <line>
                <reportElement x="0" y="0" width="555" height="1"/>
            </line>
            
            <!-- Page Info -->
            <textField>
                <reportElement x="0" y="10" width="555" height="20"/>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Halaman " + $V{PAGE_NUMBER} + " dari " + $V{PAGE_NUMBER}]]></textFieldExpression>
            </textField>
            
            <!-- Signature Section -->
            <staticText>
                <reportElement x="350" y="40" width="200" height="20"/>
                <textElement textAlignment="Center"/>
                <text><![CDATA[Jakarta, ]]></text>
            </staticText>
            
            <textField pattern="dd MMMM yyyy">
                <reportElement x="420" y="40" width="130" height="20"/>
                <textElement textAlignment="Left"/>
                <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
            </textField>
            
            <staticText>
                <reportElement x="350" y="70" width="200" height="20"/>
                <textElement textAlignment="Center"/>
                <text><![CDATA[Kepala Staff Perlengkapan,]]></text>
            </staticText>
            
            
        </band>
    </pageFooter>
</jasperReport>